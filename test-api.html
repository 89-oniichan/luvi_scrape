<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #00ff00;
        }
        .test {
            margin: 20px 0;
            padding: 15px;
            background: #000;
            border: 1px solid #00ff00;
        }
        .error { color: #ff0000; }
        .success { color: #00ff00; }
    </style>
</head>
<body>
    <h1>LUVI API Connection Test</h1>
    <div id="results"></div>

    <script>
        const results = document.getElementById('results');
        const API_BASE = 'https://bot.oniisama.com';

        async function test(name, url) {
            const div = document.createElement('div');
            div.className = 'test';
            div.innerHTML = `<strong>Testing:</strong> ${name}<br><strong>URL:</strong> ${url}<br>`;
            results.appendChild(div);

            try {
                const start = Date.now();
                const response = await fetch(url);
                const time = Date.now() - start;
                const data = await response.json();

                div.innerHTML += `<span class="success">✓ SUCCESS (${time}ms)</span><br>`;
                div.innerHTML += `<strong>Response:</strong> ${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                div.innerHTML += `<span class="error">✗ FAILED</span><br>`;
                div.innerHTML += `<strong>Error:</strong> ${error.message}<br>`;
                div.innerHTML += `<strong>Type:</strong> ${error.name}`;
            }
        }

        async function runTests() {
            await test('Root Endpoint', `${API_BASE}/`);
            await test('Stats Endpoint', `${API_BASE}/api/stats`);
            await test('Search Endpoint', `${API_BASE}/api/search/fuzzy?name=akame`);
            await test('Cards Endpoint', `${API_BASE}/api/cards`);
        }

        runTests();
    </script>
</body>
</html>
